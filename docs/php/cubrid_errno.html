<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Return the numerical value of the error message from previous CUBRID operation</title>
 </head>
 <body class="docs"><div id="layout">
  <div id="layout-content"><div id="function.cubrid-errno" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">cubrid_errno</h1>
  <p class="verinfo">(PECL CUBRID &gt;= 8.3.1)</p><p class="refpurpose"><span class="refname">cubrid_errno</span> &mdash; <span class="dc-title">Return the numerical value of the error message from previous CUBRID operation</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.cubrid-errno-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>cubrid_errno</strong></span>
    ([ <span class="methodparam"><span class="type">resource</span> <code class="parameter">$conn_identifier</code></span>
  ] ) : <span class="type">int</span></div>

  <p class="para rdfs-comment">
   Returns the error number from the last CUBRID function. 
  </p>
  <p class="para">
   The <span class="function"><strong>cubrid_errno()</strong></span> function is used to get the
   error code of the error that occurred during the API execution.  Usually,
   it gets the error code when API returns false as its return value.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.cubrid-errno-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">conn_identifier</code></dt>

     <dd>

      <p class="para">
       The CUBRID connection identifier. If the connection identifier is not
       specified, the last connection opened by
       <span class="function"><a href="cubrid_connect.html" class="function">cubrid_connect()</a></span> is assumed.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 
 <div class="refsect1 returnvalues" id="refsect1-function.cubrid-errno-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   Returns the error number from the last CUBRID function, or <em>0</em> (zero) if no error occurred.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.cubrid-errno-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   <div class="example" id="example-1158">
    <p><strong>Example #1 <span class="function"><strong>cubrid_errno()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><pre><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$con&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">cubrid_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">33000</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'demodb'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'dba'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$req&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">cubrid_execute</span><span style="color: #007700">(</span><span style="color: #0000BB">$con</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"select&nbsp;id,&nbsp;name&nbsp;from&nbsp;person"</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">$req</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(list&nbsp;(</span><span style="color: #0000BB">$id</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">)&nbsp;=&nbsp;</span><span style="color: #0000BB">cubrid_fetch</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">))&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$id</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Error&nbsp;Code:&nbsp;"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">cubrid_errno</span><span style="color: #007700">(</span><span style="color: #0000BB">$con</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Error&nbsp;Message:&nbsp;"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">cubrid_error</span><span style="color: #007700">(</span><span style="color: #0000BB">$con</span><span style="color: #007700">);<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</pre></div>
    </div>

     <div class="example-contents"><p>以上例程会输出：</p></div>
     <div class="example-contents screen">
<div class="cdata"><pre>
Error Code: -493 Error Message: Syntax: Unknown class &quot;person&quot;. select id, [name] from person
</pre></div>
     </div>
   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.cubrid-errno-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="cubrid_error.html" class="function" rel="rdfs-seeAlso">cubrid_error()</a> - Get the error message</span></li>
    <li class="member"><span class="function"><a href="cubrid_error_code.html" class="function" rel="rdfs-seeAlso">cubrid_error_code()</a> - Get error code for the most recent function call</span></li>
    <li class="member"><span class="function"><a href="cubrid_error_msg.html" class="function" rel="rdfs-seeAlso">cubrid_error_msg()</a> - Get last error message for the most recent function call</span></li>
   </ul>
  </p>
 </div>

</div></div></div></body></html>