<div class="header">
<div class="subTitle">
     compact1, compact2, compact3 
   </div>
<div class="subTitle">
     java.nio.file.attribute 
   </div>
<h2 class="title" title="Interface UserDefinedFileAttributeView">Interface UserDefinedFileAttributeView</h2>
</div><div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>
         All Superinterfaces: 
       </dt>
<dd>
<span><a href="../../../../java/nio/file/attribute/AttributeView.html" title="java.nio.file.attribute中的接口">AttributeView</a> ， <a href="../../../../java/nio/file/attribute/FileAttributeView.html" title="java.nio.file.attribute中的接口">FileAttributeView</a></span>
</dd>
</dl>
<hr/> <br/> <pre>public interface <span class="typeNameLabel">UserDefinedFileAttributeView</span>
extends <a href="../../../../java/nio/file/attribute/FileAttributeView.html" title="interface in java.nio.file.attribute">FileAttributeView</a></pre>
<div class="block">
<span>文件属性视图，提供文件的用户定义属性（有时称为<em>扩展属性）的视图</em> 。</span>
<span>用户定义的文件属性用于存储具有对文件系统无意义的文件的元数据。</span>
<span>它主要用于直接支持这种能力但可能被仿真的文件系统实现。</span>
<span>这种仿真的细节是高度实现具体的，因此没有指定。</span>
<p> <span>此<code>FileAttributeView</code>提供了一个文件的用户定义属性作为一组名称/值对的视图，其中属性名称由<code>String</code> 。</span> <span>实现可能需要在访问属性时从平台或文件系统表示进行编码和解码。</span> <span>该值具有不透明的内容。</span> <span>此属性视图定义<a href="../../../../java/nio/file/attribute/UserDefinedFileAttributeView.html#read-java.lang.String-java.nio.ByteBuffer-"><code>read</code></a>种<a href="../../../../java/nio/file/attribute/UserDefinedFileAttributeView.html#write-java.lang.String-java.nio.ByteBuffer-"><code>write</code></a>方法来读出的值中或从一个写<a href="../../../../java/nio/ByteBuffer.html" title="java.nio中的类"><code>ByteBuffer</code></a> 。</span> <span>该<code>FileAttributeView</code>不适用于属性值的大小大于<a href="../../../../java/lang/Integer.html#MAX_VALUE"><code>Integer.MAX_VALUE</code>的位置</a> 。</span> </p>
<p> <span>用户定义的属性可以在一些实现被用来存储与安全相关的属性，这样因此，在默认提供的情况下，至少，访问用户自定义属性的所有方法都需要<code>RuntimePermission("accessUserDefinedAttributes")</code>安装了安全管理器时许可。</span> </p>
<p> <span><a href="../../../../java/nio/file/FileStore.html#supportsFileAttributeView-java.lang.Class-"><code>supportsFileAttributeView</code></a>方法可用于测试特定的<a href="../../../../java/nio/file/FileStore.html" title="java.nio.file中的类"><code>FileStore</code></a>是否支持用户定义属性的存储。</span> </p>
<p> <span>在需要动态访问文件属性的情况下，可以使用<a href="../../../../java/nio/file/Files.html#getAttribute-java.nio.file.Path-java.lang.String-java.nio.file.LinkOption...-"><code>getAttribute</code></a>方法来读取属性值。</span> <span>属性值作为字节数组返回（byte []）。</span> <span><a href="../../../../java/nio/file/Files.html#setAttribute-java.nio.file.Path-java.lang.String-java.lang.Object-java.nio.file.LinkOption...-"><code>setAttribute</code></a>方法可用于从缓冲区（如通过调用<a href="../../../../java/nio/file/attribute/UserDefinedFileAttributeView.html#write-java.lang.String-java.nio.ByteBuffer-"><code>write</code></a>方法）或字节数组（byte []）写入用户定义属性的值。</span> </p>
</div>
<dl>
<dt>
<span class="simpleTagLabel">从以下版本开始：</span>
</dt>
<dd>
         1.7 
       </dd>
</dl> </li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!-- --> </a> <h3>方法摘要</h3>
<table border="0" cellpadding="3" cellspacing="0" class="memberSummary" summary="Method Summary table, listing methods, and an explanation">
<caption>
<span class="activeTableTab" id="t0"><span>所有方法</span><span class="tabEnd"> </span></span>
<span class="tableTab" id="t2"><span><a href="javascript:show(2);">接口方法</a></span><span class="tabEnd"> </span></span>
<span class="tableTab" id="t3"><span><a href="javascript:show(4);">抽象方法</a></span><span class="tabEnd"> </span></span>
</caption>
<tbody>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor" id="i0">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../java/nio/file/attribute/UserDefinedFileAttributeView.html#delete-java.lang.String-">delete</a></span>(<a href="../../../../java/lang/String.html" title="class in java.lang">String</a> name)</code>
<div class="block">
              删除用户定义的属性。 
            </div> </td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code><a href="../../../../java/util/List.html" title="interface in java.util">List</a>&lt;<a href="../../../../java/lang/String.html" title="class in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../java/nio/file/attribute/UserDefinedFileAttributeView.html#list--">list</a></span>()</code>
<div class="block">
              返回包含用户定义属性名称的列表。 
            </div> </td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code><a href="../../../../java/lang/String.html" title="class in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../java/nio/file/attribute/UserDefinedFileAttributeView.html#name--">name</a></span>()</code>
<div class="block">
              返回此属性视图的名称。 
            </div> </td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../java/nio/file/attribute/UserDefinedFileAttributeView.html#read-java.lang.String-java.nio.ByteBuffer-">read</a></span>(<a href="../../../../java/lang/String.html" title="class in java.lang">String</a> name, <a href="../../../../java/nio/ByteBuffer.html" title="class in java.nio">ByteBuffer</a> dst)</code>
<div class="block">
              将用户定义属性的值读入缓冲区。 
            </div> </td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../java/nio/file/attribute/UserDefinedFileAttributeView.html#size-java.lang.String-">size</a></span>(<a href="../../../../java/lang/String.html" title="class in java.lang">String</a> name)</code>
<div class="block">
              返回用户定义属性值的大小。 
            </div> </td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../java/nio/file/attribute/UserDefinedFileAttributeView.html#write-java.lang.String-java.nio.ByteBuffer-">write</a></span>(<a href="../../../../java/lang/String.html" title="class in java.lang">String</a> name, <a href="../../../../java/nio/ByteBuffer.html" title="class in java.nio">ByteBuffer</a> src)</code>
<div class="block">
              从缓冲区写入用户定义属性的值。 
            </div> </td>
</tr>
</tbody>
</table> </li>
</ul> </li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!-- --> </a> <h3>方法详细信息</h3> <a name="name--">
<!-- --> </a>
<ul class="blockList">
<li class="blockList"> <h4>name</h4> <pre><a href="../../../../java/lang/String.html" title="class in java.lang">String</a> name()</pre>
<div class="block">
<span>返回此属性视图的名称。</span>
<span>此类型的属性视图名称为<code>"user"</code> 。</span>
</div>
<dl>
<dt>
<span class="overrideSpecifyLabel">Specified by:</span>
</dt>
<dd>
<code><a href="../../../../java/nio/file/attribute/AttributeView.html#name--">name</a></code>在接口 
            <code><a href="../../../../java/nio/file/attribute/AttributeView.html" title="interface in java.nio.file.attribute">AttributeView</a></code>
</dd>
<dt>
<span class="returnLabel">结果</span>
</dt>
<dd>
             属性视图的名称 
           </dd>
</dl> </li>
</ul> <a name="list--">
<!-- --> </a>
<ul class="blockList">
<li class="blockList"> <h4>list</h4> <pre><a href="../../../../java/util/List.html" title="interface in java.util">List</a>&lt;<a href="../../../../java/lang/String.html" title="class in java.lang">String</a>&gt; list()
           throws <a href="../../../../java/io/IOException.html" title="class in java.io">IOException</a></pre>
<div class="block">
            返回包含用户定义属性名称的列表。 
          </div>
<dl>
<dt>
<span class="returnLabel">结果</span>
</dt>
<dd>
             一个不可修改的列表，其中包含文件用户定义的名称 
           </dd>
<dt>
<span class="throwsLabel">异常</span>
</dt>
<dd>
<code><a href="../../../../java/io/IOException.html" title="class in java.io">IOException</a></code> - 如果发生I / O错误 
           </dd>
<dd>
<span><code><a href="../../../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - 在默认提供程序的情况下，安装了一个安全管理器，它拒绝<a href="../../../../java/lang/RuntimePermission.html" title="java.lang中的类"><code>RuntimePermission</code></a> <tt>("accessUserDefinedAttributes")</tt>或其<a href="../../../../java/lang/SecurityManager.html#checkRead-java.lang.String-"><code>checkRead</code></a>方法拒绝对该文件的读取访问。</span>
</dd>
</dl> </li>
</ul> <a name="size-java.lang.String-">
<!-- --> </a>
<ul class="blockList">
<li class="blockList"> <h4>size</h4> <pre>int size(<a href="../../../../java/lang/String.html" title="class in java.lang">String</a> name)
  throws <a href="../../../../java/io/IOException.html" title="class in java.io">IOException</a></pre>
<div class="block">
            返回用户定义属性值的大小。 
          </div>
<dl>
<dt>
<span class="paramLabel">参数</span>
</dt>
<dd>
<code>name</code> - 属性名称 
           </dd>
<dt>
<span class="returnLabel">结果</span>
</dt>
<dd>
             属性值的大小，以字节为单位。 
           </dd>
<dt>
<span class="throwsLabel">异常</span>
</dt>
<dd>
<code><a href="../../../../java/lang/ArithmeticException.html" title="class in java.lang">ArithmeticException</a></code> - 如果属性的大小大于 
            <a href="../../../../java/lang/Integer.html#MAX_VALUE"><code>Integer.MAX_VALUE</code></a>
</dd>
<dd>
<code><a href="../../../../java/io/IOException.html" title="class in java.io">IOException</a></code> - 如果发生I / O错误 
           </dd>
<dd>
<span><code><a href="../../../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - 在默认提供程序的情况下，安装了一个安全管理器，它将拒绝<a href="../../../../java/lang/RuntimePermission.html" title="java.lang中的类"><code>RuntimePermission</code></a> <tt>("accessUserDefinedAttributes")</tt>或其<a href="../../../../java/lang/SecurityManager.html#checkRead-java.lang.String-"><code>checkRead</code></a>方法拒绝对该文件的读取访问。</span>
</dd>
</dl> </li>
</ul> <a name="read-java.lang.String-java.nio.ByteBuffer-">
<!-- --> </a>
<ul class="blockList">
<li class="blockList"> <h4>read</h4> <pre>int read(<a href="../../../../java/lang/String.html" title="class in java.lang">String</a> name,
         <a href="../../../../java/nio/ByteBuffer.html" title="class in java.nio">ByteBuffer</a> dst)
  throws <a href="../../../../java/io/IOException.html" title="class in java.io">IOException</a></pre>
<div class="block">
<span>将用户定义属性的值读入缓冲区。</span>
<p> <span>此方法将属性值作为字节序列读入给定的缓冲区，如果缓冲区中剩余的字节数不足以读取完整的属性值，则会失败。</span> <span>传输到缓冲区的字节数是<code>n</code> ，其中<code>n</code>是属性值的大小。</span> <span>序列中的第一个字节为索引<code>p</code> ，最后一个字节为索引<code>p + n - 1</code> ，其中<code>p</code>为缓冲区的位置。</span> <span>一旦返回缓冲区的位置将等于<code>p + n</code> ;</span> <span>其限制将不会改变。</span> </p>
<p> <span><b>用法示例：</b>假设我们要读取一个文件的MIME类型，该类型以用户定义的属性存储，名称为“ <code>user.mimetype</code> ”。</span> </p>
<pre>  <span>UserDefinedFileAttributeView view =
        Files.getFileAttributeView(path, UserDefinedFileAttributeView.class);
    String name = "user.mimetype";
    ByteBuffer buf = ByteBuffer.allocate(view.size(name));
    view.read(name, buf);
    buf.flip();
    String value = Charset.defaultCharset().decode(buf).toString();</span> </pre>
</div>
<dl>
<dt>
<span class="paramLabel">参数</span>
</dt>
<dd>
<code>name</code> - 属性名称 
           </dd>
<dd>
<code>dst</code> - 目的缓冲区 
           </dd>
<dt>
<span class="returnLabel">结果</span>
</dt>
<dd>
             读取的字节数，可能为零 
           </dd>
<dt>
<span class="throwsLabel">异常</span>
</dt>
<dd>
<code><a href="../../../../java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - 如果目标缓冲区是只读的 
           </dd>
<dd>
<code><a href="../../../../java/io/IOException.html" title="class in java.io">IOException</a></code> - 如果发生I / O错误或属性值的目标缓冲区空间不足 
           </dd>
<dd>
<span><code><a href="../../../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - 在默认提供程序的情况下，安装了一个安全管理器，它拒绝<a href="../../../../java/lang/RuntimePermission.html" title="java.lang中的类"><code>RuntimePermission</code></a> <tt>("accessUserDefinedAttributes")</tt>或其<a href="../../../../java/lang/SecurityManager.html#checkRead-java.lang.String-"><code>checkRead</code></a>方法拒绝对该文件的读取访问。</span>
</dd>
<dt>
<span class="seeLabel">另请参见：</span>
</dt>
<dd>
<a href="../../../../java/nio/file/attribute/UserDefinedFileAttributeView.html#size-java.lang.String-"><code>size(java.lang.String)</code></a>
</dd>
</dl> </li>
</ul> <a name="write-java.lang.String-java.nio.ByteBuffer-">
<!-- --> </a>
<ul class="blockList">
<li class="blockList"> <h4>write</h4> <pre>int write(<a href="../../../../java/lang/String.html" title="class in java.lang">String</a> name,
          <a href="../../../../java/nio/ByteBuffer.html" title="class in java.nio">ByteBuffer</a> src)
   throws <a href="../../../../java/io/IOException.html" title="class in java.io">IOException</a></pre>
<div class="block">
<span>从缓冲区写入用户定义属性的值。</span>
<p> <span>该方法将给定缓冲区中的属性值作为字节序列写入。</span> <span>要传输的值的大小是<code>r</code> ，其中<code>r</code>是缓冲区中<code>src.remaining()</code>的字节数，即<code>src.remaining()</code> 。</span> <span>从索引<code>p</code>开始的缓冲区中传输字节序列，其中<code>p</code>是缓冲区的位置。</span> <span>返回时，缓冲区的位置将等于<code>p + n</code> ，其中<code>n</code>是<code>n</code>的字节数;</span> <span>其限制将不会改变。</span> </p>
<p> <span>如果给定名称的属性已经存在，那么它的值将被替换。</span> <span>如果属性不存在，则创建它。</span> <span>如果实现具体，如果检查属性的存在和属性的创建的测试对于其他文件系统活动是原子的。</span> </p>
<p> <span>如果没有足够的空间来存储属性，或者属性名称或值超过实现特定的最大大小，则抛出<code>IOException</code> 。</span> </p>
<p> <span><b>使用示例：</b>假设我们要将文件的MIME类型写成用户定义的属性：</span> </p>
<pre>  <span>UserDefinedFileAttributeView view =
        FIles.getFileAttributeView(path, UserDefinedFileAttributeView.class);
    view.write("user.mimetype", Charset.defaultCharset().encode("text/html"));</span> </pre>
</div>
<dl>
<dt>
<span class="paramLabel">参数</span>
</dt>
<dd>
<code>name</code> - 属性名称 
           </dd>
<dd>
<code>src</code> - 包含属性值的缓冲区 
           </dd>
<dt>
<span class="returnLabel">结果</span>
</dt>
<dd>
             写入的字节数，可能为零 
           </dd>
<dt>
<span class="throwsLabel">异常</span>
</dt>
<dd>
<code><a href="../../../../java/io/IOException.html" title="class in java.io">IOException</a></code> - 如果发生I / O错误 
           </dd>
<dd>
<span><code><a href="../../../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - 在默认提供程序的情况下，安装了一个安全管理器，它拒绝<a href="../../../../java/lang/RuntimePermission.html" title="java.lang中的类"><code>RuntimePermission</code></a> <tt>("accessUserDefinedAttributes")</tt>或其<a href="../../../../java/lang/SecurityManager.html#checkWrite-java.lang.String-"><code>checkWrite</code></a>方法拒绝对该文件的写入访问。</span>
</dd>
</dl> </li>
</ul> <a name="delete-java.lang.String-">
<!-- --> </a>
<ul class="blockListLast">
<li class="blockList"> <h4>delete</h4> <pre>void delete(<a href="../../../../java/lang/String.html" title="class in java.lang">String</a> name)
     throws <a href="../../../../java/io/IOException.html" title="class in java.io">IOException</a></pre>
<div class="block">
            删除用户定义的属性。 
          </div>
<dl>
<dt>
<span class="paramLabel">参数</span>
</dt>
<dd>
<code>name</code> - 属性名称 
           </dd>
<dt>
<span class="throwsLabel">异常</span>
</dt>
<dd>
<code><a href="../../../../java/io/IOException.html" title="class in java.io">IOException</a></code> - 如果发生I / O错误或属性不存在 
           </dd>
<dd>
<span><code><a href="../../../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - 在默认提供程序的情况下，安装了一个安全管理器，它拒绝<a href="../../../../java/lang/RuntimePermission.html" title="java.lang中的类"><code>RuntimePermission</code></a> <tt>("accessUserDefinedAttributes")</tt>或其<a href="../../../../java/lang/SecurityManager.html#checkWrite-java.lang.String-"><code>checkWrite</code></a>方法拒绝对该文件的写入访问。</span>
</dd>
</dl> </li>
</ul> </li>
</ul> </li>
</ul>
</div>
</div>