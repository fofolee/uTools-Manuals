<html>
<body>

<h3>函数功能</h3>该函数从调用线程的消息队列里取得一个消息并将其放于指定的结构。此函数可取得与指定窗口联系的消息和由PostThreadMesssge寄送的线程消息。此函数接收一定范围的消息值。GetMessage不接收属于其他线程或应用程序的消息。<br>
<h3>函数原型</h3>BOOL GetMessage（LPMSG lpMsg，HWND hWnd，UINT wMsgFilterMin，UINT wMsgFilteMax<br>
<h3>参数</h3>
lpMsg：指向MSG结构的指针，该结构从线程的消息队列里接收消息信息。<br>
hWnd：取得其消息的窗口的句柄。这是一个有特殊含义的值（NULL）。GetMessage为任何属于调用线程的窗口检索消息，线程消息通过PostThreadMessage寄送给调用线程。<br>
wMsgFilterMin：指定被检索的最小消息值的整数。<br>
wMsgFilterMax：指定被检索的最大消息值的整数。<br>
<h3>返回值</h3>如果函数取得WM_QUIT之外的其他消息，返回非零值。如果函数取得WM_QUIT消息，返回值是零。如果出现了错误，返回值是_1。例如，当hWnd是无效的窗口句柄或lpMsg是无效的指针时。若想获得更多的错误信息，请调用GetLastError函数。<br>
备注：应用程序通常用返回值来确定是否终止主消息循环并退出程序。<br>
GetMesssge只接收与参数hWnd标识的窗口或子窗口相联系的消息，子窗口由函数IsChild决定，消息值的范围由参数wMsgFilterMin和wMsgFilterMax给出。如果hWnd为NULL，则GetMessage接收属于调用线程的窗口的消息，线程消息由函数PostThreadMessage寄送给调用线程。GetMessage不接收属于其他线程或其他线程的窗口的消息，即使hWnd为NULL。由PostThreadMessage寄送的线程消息，其消息hWnd值为NULL。如果wMsgFilterMin和wMsgFilterMax都为零，GetMessage返回所有可得的消息（即，无范围过滤）。<br>
常数 WM_KEYFIRST和WM_KEYAST可作为过滤值取得与键盘输入相关的所有消息：常数WM_MOUSEFIRST和WM_MOUSELST可用来接收所有的鼠标消息。如果wMsgFilterMin和wMsgFilterMax都为零，GetMessage返回所有可得的消息（即，无范围过滤）。<br>
GetMessage不从队列里清除WM.PAINT消息。该消息将保留在队列里直到处理完毕。<br>
注意，此函数的返回值可非零、零或-1，应避免如下代码出现：<br>
while（GetMessage（IpMsg，hwnd，0，0））…<br>
－1返回值的可能性表示这样的代码会导致致命的应用程序错误。<br>
<h3>速查</h3>Windows NT： 3.1及以上版本；Windows：95及以上版本；Windows CE：1.0及以上版本：头文件：winuser.h；输入库：user32.Iib；Unicode：在Windows NT环境下以Unicode和ANSI方式实现。<br>

</body>
</html>
